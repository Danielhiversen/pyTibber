sudo: false
matrix:
  fast_finish: true
  include:
  - python: '3.5'
    env: TOXENV=py35
  - python: '3.6'
    env: TOXENV=py36
  - python: '3.7'
    env: TOXENV=py37
    dist: xenial
  - python: nightly
    env: TOXENV=py37
  - python: 3.8-dev
    env: TOXENV=py38
    dist: xenial
  - python: '3.6'
    env: TOXENV=lint
  allow_failures:
  - python: nightly
  - python: 3.8-dev
cache:
  directories:
  - "$HOME/.cache/pip"
install:
- pip install tox coveralls
language: python
script: tox
after_success: coveralls
deploy:
  provider: pypi
  user: dahoiv
  password:
    secure: YD0DfQvDqdYgWBBxr91jVhohAoYXorvLS3N0BKJz+u9aTW3KyHEGpg6iBRpJKS/Bta2wOBOh+y9jGNldCF5LiMS2JYpmCa+0TZ36fGOIwCgLJckPQVwwmxSEiwQ6rx6MC5ugUPjYd7zzDBQS41kBlvTAxkJkzlPBwhU/6WIXzNQjBPa3ZE/C1NTHO0K/QScYcehTVAZAvcW2xYCdQ8463I09LqKRLcm2yu2wAqV3nfd3rV4S09OXSH9cBEveFkCILJmujyO7JZaCT+Ogc7UEi9eFM1pylDFwfr4JYnlE6gQmgJoxG7a03SoEeZLH8CHxghXXWdL6sLdPRE7HJ3TMof6S25VYoqeLPyk450/vJzUu4oz1WYH+3/N6pSciITw75Ps7XWc69e5pEv0gJwk44/K+K11zT6UtzGTb+ds4V1vT/ihGYokNTjQ3wBeJbyPWDfoYccsHTonZIvKiW8FYCagwzKIli0EFThasOYQfYTXlXn0lv7fppu1bJNE24h6UOeErn2UMW1ki3DusF2fyqT/9ckt18POsLBOQ8bqjNBWMSOTrXChb6dBceN1pXyc6TyXM+fNYMPBsAsrCRhWUSY53E2qCB8nM93imWsHy8Tp9GcGFa2te3lFnXhcqAzRcqEoFuzAxK6q3T/RFnm408LhKFb1luR4utxTCvRof8m8=
  on:
    tags: true
    repo: Danielhiversen/pyTibber
    condition: "$TOXENV = py35"
    branch: master
